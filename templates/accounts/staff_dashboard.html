{% extends "base.html" %}
{% load static %}
{% block title %}Staff Dashboard | RDFS{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'styles/accounts/staff-dashboard.css' %}?v=1.0">
{% endblock %}

{% block content %}
<div class="staff-dashboard">
  <div class="container">
    
    <!-- HEADER -->
    <div class="staff-dashboard__header">
      <h1 class="staff-dashboard__title">
        <i class="bi bi-house-heart-fill"></i>
        Staff Dashboard
      </h1>
      <p class="staff-dashboard__subtitle">
        Welcome, <strong>{{ user.username }}</strong>. Ready to manage terminal operations.
      </p>
    </div>

    <!-- STAT CARDS -->
    <div class="quick-stats">
      <a href="{% url 'vehicles:registered_drivers' %}" class="text-decoration-none">
        <div class="staff-stat-card staff-stat-card--primary">
          <div class="staff-stat-card__content">
            <div class="staff-stat-card__icon">
              <i class="bi bi-people-fill"></i>
            </div>
            <div class="staff-stat-card__info">
              <div class="staff-stat-card__label">Registered Drivers</div>
              <div class="staff-stat-card__value">{{ total_drivers }}</div>
            </div>
          </div>
        </div>
      </a>

      <a href="{% url 'vehicles:registered_vehicles' %}" class="text-decoration-none">
        <div class="staff-stat-card staff-stat-card--success">
          <div class="staff-stat-card__content">
            <div class="staff-stat-card__icon">
              <i class="bi bi-truck-front-fill"></i>
            </div>
            <div class="staff-stat-card__info">
              <div class="staff-stat-card__label">Registered Vehicles</div>
              <div class="staff-stat-card__value">{{ total_vehicles }}</div>
            </div>
          </div>
        </div>
      </a>

      <a href="{% url 'terminal:transactions' %}" class="text-decoration-none">
        <div class="staff-stat-card staff-stat-card--warning">
          <div class="staff-stat-card__content">
            <div class="staff-stat-card__icon">
              <i class="bi bi-list-ol"></i>
            </div>
            <div class="staff-stat-card__info">
              <div class="staff-stat-card__label">Vehicles in Queue</div>
              <div class="staff-stat-card__value">{{ total_queue }}</div>
            </div>
          </div>
        </div>
      </a>
    </div>

    <!-- QUICK ACTIONS -->
    <div class="section-header">
      <h2 class="section-header__title">
        <i class="bi bi-lightning-charge-fill"></i>
        Quick Actions
      </h2>
    </div>

    <div class="actions-grid">
      <a href="{% url 'vehicles:register_driver' %}" class="text-decoration-none">
        <div class="staff-action-card">
          <div class="staff-action-card__icon">
            <i class="bi bi-person-plus-fill"></i>
          </div>
          <h3 class="staff-action-card__title">Register Driver</h3>
          <p class="staff-action-card__description">
            Add a new driver to the system with complete profile information and documentation.
          </p>
          <button class="staff-action-card__button">
            Register Now
          </button>
        </div>
      </a>

      <a href="{% url 'vehicles:register_vehicle' %}" class="text-decoration-none">
        <div class="staff-action-card">
          <div class="staff-action-card__icon">
            <i class="bi bi-truck"></i>
          </div>
          <h3 class="staff-action-card__title">Register Vehicle</h3>
          <p class="staff-action-card__description">
            Register a new vehicle and assign it to a driver with route and capacity details.
          </p>
          <button class="staff-action-card__button">
            Register Now
          </button>
        </div>
      </a>

      <a href="{% url 'terminal:deposits' %}" class="text-decoration-none">
        <div class="staff-action-card">
          <div class="staff-action-card__icon">
            <i class="bi bi-wallet2"></i>
          </div>
          <h3 class="staff-action-card__title">Deposit Management</h3>
          <p class="staff-action-card__description">
            Record wallet deposits for vehicles and view complete deposit history.
          </p>
          <button class="staff-action-card__button">
            Manage Deposits
          </button>
        </div>
      </a>

      <a href="{% url 'terminal:qr_scan_entry' %}" class="text-decoration-none">
        <div class="staff-action-card">
          <div class="staff-action-card__icon">
            <i class="bi bi-qr-code-scan"></i>
          </div>
          <h3 class="staff-action-card__title">QR Entry Scan</h3>
          <p class="staff-action-card__description">
            Scan vehicle QR codes for terminal entry and validate wallet balance.
          </p>
          <button class="staff-action-card__button">
            Scan Entry
          </button>
        </div>
      </a>

      <a href="{% url 'terminal:qr_exit_page' %}" class="text-decoration-none">
        <div class="staff-action-card">
          <div class="staff-action-card__icon">
            <i class="bi bi-box-arrow-right"></i>
          </div>
          <h3 class="staff-action-card__title">QR Exit Scan</h3>
          <p class="staff-action-card__description">
            Scan vehicle QR codes for terminal exit and mark departure completion.
          </p>
          <button class="staff-action-card__button">
            Scan Exit
          </button>
        </div>
      </a>

      <a href="{% url 'terminal:transactions' %}" class="text-decoration-none">
        <div class="staff-action-card">
          <div class="staff-action-card__icon">
            <i class="bi bi-receipt"></i>
          </div>
          <h3 class="staff-action-card__title">View Transactions</h3>
          <p class="staff-action-card__description">
            View today terminal activity, entries, exits, and revenue summary.
          </p>
          <button class="staff-action-card__button">
            View Activity
          </button>
        </div>
      </a>
    </div>

    <!-- FOOTER -->
    <div class="dashboard-footer">
      <p>RDFS Terminal Management System Â· Staff Portal</p>
    </div>

  </div>
</div>
{% endblock %}
