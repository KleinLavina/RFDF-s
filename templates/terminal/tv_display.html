{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Terminal Departure Board | RDFS</title>

  <link rel="icon" type="image/png" href="{% static 'img/RDFS-Logo.png' %}">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="{% static 'styles/terminal/tv_display.css' %}?v=4.0" rel="stylesheet">
</head>

<body>

<!-- COMPACT HEADER -->
<header class="tv-header">
  <div class="header-left">
    <div class="terminal-logo">
      <i class="fa-solid fa-bus"></i>
      <span>RDFS TERMINAL</span>
    </div>
  </div>
  <div class="header-center">
    <div class="route-display">
      <i class="fa-solid fa-route"></i>
      <span id="selectedRouteLabel">{% if selected_route %}{{ selected_route }}{% else %}ALL ROUTES{% endif %}</span>
    </div>
  </div>
  <div class="header-right">
    <div class="datetime-display">
      <div class="date-line" id="current-date"></div>
      <div class="time-line" id="current-time"></div>
    </div>
    <div class="status-indicator">
      <span class="status-dot"></span>
      <span class="status-text">LIVE</span>
    </div>
  </div>
</header>

<!-- DEPARTURE BOARD -->
<main class="departure-board">
  
  <!-- Board Header -->
  <div class="board-header">
    <div class="col-time">
      <i class="fa-solid fa-clock"></i>
      DEPARTURE
    </div>
    <div class="col-route">
      <i class="fa-solid fa-route"></i>
      ROUTE
    </div>
    <div class="col-destination">
      <i class="fa-solid fa-location-dot"></i>
      DESTINATION
    </div>
    <div class="col-vehicle">
      <i class="fa-solid fa-bus"></i>
      VEHICLE
    </div>
    <div class="col-status">
      <i class="fa-solid fa-circle-info"></i>
      STATUS
    </div>
  </div>

  <!-- Departure Rows -->
  <div class="board-rows" id="departureList">
    <!-- Rows dynamically inserted -->
  </div>

  <!-- Empty State -->
  <div class="board-empty" id="emptyState" style="display: none;">
    <i class="fa-solid fa-calendar-xmark"></i>
    <p>NO SCHEDULED DEPARTURES</p>
    <small>Please check back later</small>
  </div>

</main>

<script src="{% static 'js/terminal/tv_display.js' %}?v=3.0"></script>
<script>
// Initialize TV Display
window.TV_DISPLAY_CONFIG = {
  apiUrl: "{% url 'terminal:tv_display_api' %}",
  refreshInterval: {{ refresh_interval|default:15 }},
  countdownDuration: {{ countdown_duration|default:30 }},
  initialData: {{ route_sections|safe }},
};
</script>

</body>
</html>
