{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>{% block title %}RDFS{% endblock %}</title>

  <link rel="icon" type="image/png" href="{% static 'img/RDFS-Logo.png' %}">
  <link rel="shortcut icon" href="{% static 'img/RDFS-Logo.png' %}">

  <!-- Bootstrap & Icons -->
  <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="{% static 'styles/app-layout.css' %}">
</head>

<body class="{% block body_class %}{% endblock %}">

{% block layout %}
<div class="app-shell">

  {% if request.user.is_authenticated %}
    <div class="app-sidebar-shell">
      <aside class="app-sidebar" id="app-sidebar">
        {% if user.role == 'admin' %}
          {% include 'includes/sidebar_admin.html' %}
        {% else %}
          {% include 'includes/sidebar_staff.html' %}
        {% endif %}
      </aside>

      <button
        id="sidebarToggle"
        class="app-sidebar-toggle"
        type="button"
        aria-expanded="true"
        aria-controls="app-sidebar"
        data-tooltip="Collapse sidebar"
      >
        <i class="bi bi-chevron-left"></i>
      </button>
    </div>

    <div class="sidebar-backdrop" id="sidebarBackdrop" aria-hidden="true"></div>
  {% endif %}

  <main id="main-content">
    {% block content %}{% endblock %}
  </main>

</div>
{% endblock %}

<!-- Toasts -->
<div class="toast-container"></div>

<!-- Scripts -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>

{% if messages %}
  <script type="application/json" id="toastMessages">
    [
      {% for message in messages %}
        {"message": "{{ message|escapejs }}", "tags": "{{ message.tags|default:'' }}"}{% if not forloop.last %},{% endif %}
      {% endfor %}
    ]
  </script>
{% endif %}

<script src="{% static 'js/app-layout.js' %}"></script>

</body>
</html>
